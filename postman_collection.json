{
  "info": {
    "name": "Books Crawler API",
    "description": "API collection for Books Crawler - Web scraping project for books.toscrape.com",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "apikey",
    "apikey": [
      {
        "key": "value",
        "value": "dev_key_123",
        "type": "string"
      },
      {
        "key": "key",
        "value": "X-API-Key",
        "type": "string"
      }
    ]
  },
  "item": [
    {
      "name": "Health Check",
      "request": {
        "auth": {
          "type": "noauth"
        },
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:8000/health",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8000",
          "path": ["health"]
        },
        "description": "Check API health status and database connection"
      }
    },
    {
      "name": "Get All Books",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:8000/api/v1/books?page=1&page_size=20",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8000",
          "path": ["api", "v1", "books"],
          "query": [
            {
              "key": "page",
              "value": "1"
            },
            {
              "key": "page_size",
              "value": "20"
            }
          ]
        },
        "description": "Get all books with pagination"
      }
    },
    {
      "name": "Get Books by Category",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:8000/api/v1/books?category=Fiction&page=1",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8000",
          "path": ["api", "v1", "books"],
          "query": [
            {
              "key": "category",
              "value": "Fiction"
            },
            {
              "key": "page",
              "value": "1"
            }
          ]
        },
        "description": "Filter books by category"
      }
    },
    {
      "name": "Get Books by Price Range",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:8000/api/v1/books?min_price=10&max_price=50&page=1",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8000",
          "path": ["api", "v1", "books"],
          "query": [
            {
              "key": "min_price",
              "value": "10"
            },
            {
              "key": "max_price",
              "value": "50"
            },
            {
              "key": "page",
              "value": "1"
            }
          ]
        },
        "description": "Filter books by price range"
      }
    },
    {
      "name": "Get Books by Rating",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:8000/api/v1/books?rating=4&page=1",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8000",
          "path": ["api", "v1", "books"],
          "query": [
            {
              "key": "rating",
              "value": "4"
            },
            {
              "key": "page",
              "value": "1"
            }
          ]
        },
        "description": "Filter books by rating (1-5)"
      }
    },
    {
      "name": "Get Books Sorted by Price",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:8000/api/v1/books?sort_by=price&page=1",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8000",
          "path": ["api", "v1", "books"],
          "query": [
            {
              "key": "sort_by",
              "value": "price"
            },
            {
              "key": "page",
              "value": "1"
            }
          ]
        },
        "description": "Sort books by price (also supports: name, rating, reviews)"
      }
    },
    {
      "name": "Get Book by ID",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:8000/api/v1/books/:book_id",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8000",
          "path": ["api", "v1", "books", ":book_id"],
          "variable": [
            {
              "key": "book_id",
              "value": "507f1f77bcf86cd799439011",
              "description": "MongoDB ObjectId of the book"
            }
          ]
        },
        "description": "Get full details of a specific book by ID"
      }
    },
    {
      "name": "Get All Changes",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:8000/api/v1/changes?page=1&page_size=20",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8000",
          "path": ["api", "v1", "changes"],
          "query": [
            {
              "key": "page",
              "value": "1"
            },
            {
              "key": "page_size",
              "value": "20"
            }
          ]
        },
        "description": "Get all detected changes with pagination"
      }
    },
    {
      "name": "Get Price Changes",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:8000/api/v1/changes?change_type=price_change&page=1",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8000",
          "path": ["api", "v1", "changes"],
          "query": [
            {
              "key": "change_type",
              "value": "price_change"
            },
            {
              "key": "page",
              "value": "1"
            }
          ]
        },
        "description": "Filter changes by type (price_change, availability_change, description_change, new_book)"
      }
    },
    {
      "name": "Test Invalid API Key",
      "request": {
        "auth": {
          "type": "apikey",
          "apikey": [
            {
              "key": "value",
              "value": "invalid_key",
              "type": "string"
            },
            {
              "key": "key",
              "value": "X-API-Key",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:8000/api/v1/books",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8000",
          "path": ["api", "v1", "books"]
        },
        "description": "Test authentication with invalid API key (should return 401)"
      }
    }
  ]
}
